{% extends 'productos/base.html' %}
{% block title %}Listado de Reservas{% endblock %}
{% block content %}
<div class="d-flex justify-content-between align-items-center mb-4">
  <h1 class="page-title">Gesti√≥n de Reservas</h1>
  <a href="{% url 'reserva_create' %}" class="btn btn-primary">
    <i class="fas fa-plus me-2"></i>Nueva Reserva
  </a>
</div>

{% if reservas %}
  <div class="table-responsive">
    <table class="table table-striped table-hover">
      <thead>
        <tr>
          <th>ID</th><th>Fecha</th><th>Tercero</th><th>DUI</th><th>Productos</th><th>Acciones</th>
        </tr>
      </thead>
      <tbody>
        {% for r in reservas %}
        <tr>
          <td>{{ r.id }}</td>
          <td>{{ r.fecha|date:"d/m/Y H:i" }}</td>
          <td>{{ r.tercero }}</td>
          <td>{{ r.tercero.dui }}</td>
          <td>
            <ul class="mb-0 ps-3">
              {% for it in r.items.all %}<li>{{ it }}</li>{% endfor %}
            </ul>
          </td>
          <td>
            <a href="{% url 'reserva_update' r.id %}" class="btn btn-edit btn-icon me-1">
              <i class="fas fa-edit"></i>
            </a>
            <a href="{% url 'reserva_delete' r.id %}" class="btn btn-delete btn-icon">
              <i class="fas fa-trash-alt"></i>
            </a>
          </td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
{% else %}
  <div class="alert alert-info">
    No hay reservas registradas.
  </div>
{% endif %}
{% endblock %}
